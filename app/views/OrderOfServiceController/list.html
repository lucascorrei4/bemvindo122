#{extends 'CRUD/layout.html' /}
#{set title:messages.get('crud.list.title', type.name) /}
<meta charset="utf-8" />
	<div class="col-lg-6">
		#{crud.search /}
	</div>
	<div class="col-lg-6">
		<a href="@{blank()}" class="btn btn-default" style="float: right">&{'crud.add', type.modelName}</a> 
	</div>
	<div class="col-lg-12 ${type.name}">
        <div class="panel panel-default">
            <div class="panel-heading"></div>
            <div class="panel-body">
            	<div class="dataTable_wrapper">
			        #{crud.table fields:['','postedAt', 'client', 'service', 'totalPrice', 'orderCode', 'isActive', 'orderService', 'action']}
			        	#{crud.custom ''}
			         		<div class="checkbox">
							 	<label><input type="checkbox" value="${object.id}"></label>
							</div>
				        #{/crud.custom}
			        	#{crud.custom 'postedAt'}
			         		<a href="@{OrderOfServiceController.show(object.id)}">${object.postedAt}</a>
				        #{/crud.custom}
				        #{crud.custom 'client'}
			         		<a href="@{OrderOfServiceController.show(object.id)}">${object.client.name} ${object.client.lastName}</a>
				        #{/crud.custom}
				        #{crud.custom 'service'}
			         		<a href="@{OrderOfServiceController.show(object.id)}">${object.services}</a>
				        #{/crud.custom}
				        #{crud.custom 'totalPrice'}
			         		<a href="@{OrderOfServiceController.show(object.id)}">${object.totalPrice}</a>
				        #{/crud.custom}
				        #{crud.custom 'orderCode'}
			         		<a href="@{OrderOfServiceController.show(object.id)}">${object.orderCode}</a>
				        #{/crud.custom}
			        	#{crud.custom 'isActive'}
					        #{if object.isActive}
						    	<a href="@{OrderOfServiceController.show(object.id)}">${object.isActive='Sim'}</a>
						    #{/if}
						    #{else} 
						    	<a href="@{OrderOfServiceController.show(object.id)}">${object.isActive='Não'}</a>
				            #{/else}
				        #{/crud.custom}
				        #{crud.custom 'action'}
				       		<a href="@{OrderOfServiceController.show(object.id)}" class="btn btn-default"><i class="fa fa-edit"></i></a>
				        #{/crud.custom}
				        #{crud.custom 'orderService'}
				       		<a id="btnModalGenerateCode" class="btn btn-default" data-order-id="${object.id}" title="Abrir Ordem de Serviço" onclick="openModalOrderOfService(this);"><i class="fa fa-print"></i></a>
				        #{/crud.custom}
				    #{/crud.table}
    				<div class="alert alert-info alert-dismissable">
						#{crud.pagination /}
	   				</div>
   					<div class="col-lg-12" style="padding: 0;">
	   					<div style="margin: 0 auto; float: right;">
					   		<a id="selectItems" class="btn btn-default" title="Abrir ordem de serviço dos ítens selecionados">Abrir selecionados <i class="fa fa-list-ul"></i></a>
	   					</div>
   					</div>
   				</div>
   			</div>
   				<div class="col-lg-6">
   			</div>
   		</div>
   	</div>
    <!-- Page-Level Demo Scripts - Tables - Use for reference -->
    <script>
    $(document).ready(function() {
        $('#dataTables-example').DataTable({
        	responsive: true
        });
    });
    </script>
    #{include 'OrderOfServiceController/orderOfServiceModal.html' /}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script type="text/javascript" src="@{'public/javascripts/print.js'}"></script>
	<script src="@{'/public/javascripts/typeahead.min.js'}"></script>
	#{script 'orderOfServiceScript.js' /}
	<script type="text/javascript" src="@{'public/javascripts/functions.js'}"></script>
	